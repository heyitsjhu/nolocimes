version: "3.7"

services:
  frontend:
    container_name: frontend
    command: npm start
    build:
      context: .
      dockerfile: ./frontend/Dockerfile
    volumes:
      - "./frontend:/usr/src/app/frontend"
      - "/usr/src/app/frontend/node_modules"
    ports:
      - "3001:3000"
    environment:
      - CHOKIDAR_USEPOLLING=true

  backend:
    container_name: backend
    command: npm start
    build:
      context: .
      dockerfile: ./backend/Dockerfile
    volumes:
      - "./backend:/usr/src/app/backend"
      - "/usr/src/app/backend/node_modules"
    ports:
      - "5001:5000"
